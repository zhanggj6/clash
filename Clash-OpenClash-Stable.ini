########################################
# åŸºç¡€è®¾ç½®
########################################
[general]
port = 7890
socks-port = 7891
mixed-port = 7893
allow-lan = true
bind-address = *
mode = rule
log-level = info
external-controller = 0.0.0.0:9090
ipv6 = false

########################################
# DNSï¼ˆéšç§ + å®¶åº­ç¨³å®šï¼‰
# é‡ç‚¹ï¼šredir-hostï¼Œç¦æ­¢ fake-ip
########################################
[dns]
enable = true
listen = 0.0.0.0:7874
ipv6 = false
enhanced-mode = redir-host
use-hosts = true
respect-rules = true

default-nameserver = 223.5.5.5,119.29.29.29
nameserver = https://doh.pub/dns-query,https://dns.alidns.com/dns-query

fallback = https://dns.cloudflare.com/dns-query,https://dns.twnic.tw/dns-query,tls://8.8.4.4:853
fallback-filter = geoip=true,geoip-code=CN

########################################
# fake-ip æ˜ç¡®å…³é—­ï¼ˆé˜²æ­¢ HA / Docker å¼‚å¸¸ï¼‰
########################################
fake-ip-filter = *.lan,*.local,home-assistant.io,nabucasa.com

########################################
# è§„åˆ™é›†ï¼ˆå›½å¤– / AI / æµåª’ä½“ï¼‰
########################################
[rule_provider]
AI = https://raw.githubusercontent.com/liandu2024/clash/main/list/AI.list
AI2 = https://raw.githubusercontent.com/liandu2024/clash/main/list/AI2.list
GitHub = https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.list
Telegram = https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.list
Media = https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.list
Global = https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Global/Global.list

########################################
# ç­–ç•¥ç»„ï¼ˆä½ åœ¨ç•Œé¢çœ‹åˆ°çš„ï¼‰
########################################
[proxy_group]
ğŸš€ é»˜è®¤ä»£ç† = select,â™»ï¸ è‡ªåŠ¨,DIRECT
â™»ï¸ è‡ªåŠ¨ = url-test,.*,http://www.gstatic.com/generate_204,300,5,100

ğŸ“€ æµåª’ä½“ = select,ğŸš€ é»˜è®¤ä»£ç†,â™»ï¸ è‡ªåŠ¨,DIRECT
ğŸ‘½ AI = select,ğŸš€ é»˜è®¤ä»£ç†,â™»ï¸ è‡ªåŠ¨,DIRECT
ğŸ™‹ Telegram = select,ğŸš€ é»˜è®¤ä»£ç†,â™»ï¸ è‡ªåŠ¨,DIRECT
ğŸ“˜ GitHub = select,ğŸš€ é»˜è®¤ä»£ç†,â™»ï¸ è‡ªåŠ¨,DIRECT
ğŸŒ å›½å¤– = select,ğŸš€ é»˜è®¤ä»£ç†,â™»ï¸ è‡ªåŠ¨,DIRECT

########################################
# è§„åˆ™ï¼ˆé¡ºåºéå¸¸é‡è¦ï¼‰
########################################
[rules]
RULE-SET,AI,ğŸ‘½ AI
RULE-SET,AI2,ğŸ‘½ AI
RULE-SET,GitHub,ğŸ“˜ GitHub
RULE-SET,Telegram,ğŸ™‹ Telegram
RULE-SET,Media,ğŸ“€ æµåª’ä½“
RULE-SET,Global,ğŸŒ å›½å¤–

# å›½å†…ç›´è¿ï¼ˆä¿æŠ¤éšç§ + ä¸ç»•è·¯ï¼‰
GEOIP,CN,DIRECT

# å…œåº•
MATCH,ğŸš€ é»˜è®¤ä»£ç†
